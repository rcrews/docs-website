<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous"><link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,500,500i,700,700i%7cRoboto+Condensed:300,300i,400,400i,700,700i%7cRoboto+Mono:400,400i,700,700i%7cRoboto+Slab:400,400i,700,700i" rel="stylesheet"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous"><title>Apache Druid architectural overview</title><meta name="description" content=""><link rel="stylesheet" href="/common/css/main.css"><script src="/common/js/main.js"></script></head><body class="hg"><article class="hg-body"><main><div id="content" aria-labelledby="ariaid-title1">
 <h1 class="title topictitle1" id="ariaid-title1">Apache Druid architectural
    overview</h1>
 
 <div class="body conbody"><p class="shortdesc"></p>
  <section class="section"><h2 class="title sectiontitle">Druid Architecture</h2>
      <p class="p">Apache Druid (incubating) supports streaming ingestion and batch ingestion data analytics modes.
        A Druid cluster consists of several Druid node types and components. Each Druid node is
        optimized to serve particular functions. The following list is an overview of Druid node
        types: </p>
      <ul class="ul">
     <li class="li"> Realtime nodes 
       <p class="p">These nodes ingest and index streaming data that is
      generated by system events. The nodes construct segments from the data and store the segments
      until these segments are sent to historical nodes. The realtime nodes do not store segments
      after the segments are transferred.</p></li>
        <li class="li">Historical nodes <p class="p">These nodes are designed to serve queries over
      immutable, historical data. Historical nodes download immutable, read-optimized Druid segments
      from deep storage and use memory-mapped files to load them into available memory. Each
      historical node tracks the segments it has loaded in ZooKeeper and transmits this information
      to other nodes of the Druid cluster when needed.</p></li>
        <li class="li">Broker nodes 
          <p class="p">These nodes form a gateway between external
      clients and various historical and realtime nodes. External clients send queries to broker
      nodes. The nodes then break each query into smaller queries based on the location of segments
      for the queried interval and forwards them to the appropriate historical or realtime nodes.
      Broker nodes merge query results and send them back to the client. These nodes can also be
      configured to use a local or distributed cache for caching query results for individual
      segments.</p></li>
        <li class="li">Coordinator nodes 
          <p class="p">These nodes mainly serve to assign segments to historical nodes, handle data
      replication, and to ensure that segments are distributed evenly across the historical nodes.
      They also provide a UI to manage different datasources and configure rules to load data and
      drop data for individual datas sources. The UI can be accessed via Ambari Quick Links.</p></li>
        <li class="li">Middle
      manager nodes<p class="p">These nodes are responsible for running various tasks related to data ingestion, realtime
      indexing, and segment archives. Each Druid task is run as a separate JVM.</p></li>
        <li class="li"> Overlord nodes
      <p class="p">These nodes handle task management and maintain a task queue that consists of user-submitted
      tasks. The queue is processed by assigning tasks in order to the middle manager nodes, which
      actually run the tasks.The overlord nodes also support a UI that provides a view of the
      current task queue and access to task logs. The UI can be accessed via Ambari Quick Links for
      Druid.</p></li> 
      </ul></section> 
 </div>
</div></main><nav class="products"></nav><nav class="topics"></nav><aside class="right-info"></aside></article><header></header><footer></footer><div class="modal fade" id="bModal" tabindex="-1" role="dialog" aria-labelledby="bModalLabel" aria-hidden="true"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="bModalLabel"></h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">✖️</span></button></div><div class="modal-body" id="bModalList"></div></div></div></div><script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script><script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script></body></html>