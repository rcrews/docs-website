<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="DC.Type" content="reference"><meta name="description" content="If the performance of low-latency analytical processing (LLAP) degrades, you can adjust Tez properties to tune Hive LLAP performance, but generally changing Tez properties is not necessary."><meta name="DC.subject" content="Tez, Hive, LLAP, performance tuning"><meta name="keywords" content="Tez, Hive, LLAP, performance tuning"><meta name="DC.Relation" scheme="URI" content="../topics/cr-hive_query_result_cache_ms_cache.html"><meta name="DC.Relation" scheme="URI" content="../topics/cr-hive_monitoring_performance.html"><meta name="prodname" content="Cloudera Runtime"><meta name="version" content="1"><meta name="release" content="0"><meta name="modification" content="0"><meta name="brand" content="Cloudera Runtime"><meta name="rights" content="© 2019 Cloudera, Inc."><meta name="DC.Date.Created" content="2019-04-15"><meta name="DC.Date.Modified" content="2019-04-15"><meta name="DC.Format" content="XHTML"><meta name="DC.Identifier" content="hive_tez_engine_properties"><link rel="stylesheet" type="text/css" href="../commonltr.css"><title>Tez execution engine properties</title><script type="application/javascript">
      
      
    //The id for tree cookie
    var treeCookieId = "treeview-bk_release-notes";
    var language = "en";
    var w = new Object();
    //Localization
    txt_filesfound = 'Results';
    txt_enter_at_least_1_char = "You must enter at least one character.";
    txt_browser_not_supported = "Please enable JavaScript.";
    txt_please_wait = "Please wait. Search in progress...";
    txt_results_for = "Results for: ";
    
    
    </script><script type="application/javascript" src="https://code.jquery.com/jquery-1.4.3.min.js"></script><script type="application/javascript" src="/common/themes/pre-hdp-3.1/js/jquery-ui-1.8.2.custom.min.js"></script><script type="application/javascript" src="/common/themes/pre-hdp-3.1/js/jquery.cookie.js"></script><script type="application/javascript" src="/common/themes/pre-hdp-3.1/js/jquery.treeview.min.js"></script><link href="https://cdn.jsdelivr.net/qtip2/3.0.3/jquery.qtip.min.css" rel="stylesheet" type="text/css" media="screen, projection"><script src="https://cdnjs.cloudflare.com/ajax/libs/qtip2/3.0.3/jquery.qtip.min.js" type="application/javascript"></script><script type="application/javascript" src="/common/js/navigation.js"></script><script type="application/javascript" src="/common/themes/pre-hdp-3.1/js/main.js"></script><script type="application/javascript" src="/common/themes/pre-hdp-3.1/js/htmlFileList.js"></script><script type="application/javascript" src="/common/themes/pre-hdp-3.1/js/htmlFileInfoList.js"></script><script type="application/javascript" src="/common/themes/pre-hdp-3.1/js/nwSearchFnt.js"></script><script type="application/javascript" src="/common/themes/pre-hdp-3.1/js/en_stemmer.js"></script><script type="application/javascript" src="/common/themes/pre-hdp-3.1/js/index-1.js"></script><script type="application/javascript" src="/common/themes/pre-hdp-3.1/js/index-2.js"></script><script type="application/javascript" src="/common/themes/pre-hdp-3.1/js/index-3.js"></script><script type="application/javascript">
      
      
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-22950817-19', 'auto');
    ga('send', 'pageview');
    
    
    </script><script type="application/javascript" src="/common/themes/pre-hdp-3.1/js/plugins.js"></script><script type="application/javascript" src="/common/themes/pre-hdp-3.1/js/scripts.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/highlight.min.js" type="application/javascript"></script><script type="application/javascript">
      
    // PAGE SPECIFIC SCRIPTS
    
    $('.chapters>li .dropdown').click(function () {
    var $arrow = $(this).find('i.fa');
    if( $arrow.hasClass('fa-chevron-down')) {
    $(this).siblings('.sections').show();
    $arrow.removeClass('fa-chevron-down').addClass('fa-chevron-up');
    } else {
    console.log('up');
    $(this).siblings('.sections').hide();
    $arrow.removeClass('fa-chevron-up').addClass('fa-chevron-down');
    }
    });
    
    //  $('h3').on('mouseenter',function() {
    //      console.log('received mouseover');
    //      $(this).find('.hash-link').show();
    //  });
    
    //  $('h3').on('mouseleave',function() {
    //      $(this).find('.hash-link').hide();
    //  });
    
    
    // STICKY SIDEBARs
    var stickySidebar = $('.sticky');
    
    if (stickySidebar.length > 0) {
    var stickyHeight = stickySidebar.height(),
    sidebarTop = stickySidebar.offset().top;
    }
    
    // on scroll move the sidebar
    $(window).scroll(function () {
    if (stickySidebar.length > 0) {
    var scrollTop = $(window).scrollTop();
    console.log
    
    if (sidebarTop < scrollTop) {
    stickySidebar.css('top', scrollTop - sidebarTop);
    
    // stop the sticky sidebar at the footer to avoid overlapping
    var sidebarBottom = stickySidebar.offset().top + stickyHeight,
    stickyStop = $('.main-content').offset().top + $('.main-content').height();
    if (stickyStop < sidebarBottom) {
    var stopPosition = $('.main-content').height() - stickyHeight;
    stickySidebar.css('top', stopPosition);
    }
    }
    else {
    stickySidebar.css('top', '0');
    }
    }
    });
    
    $(window).resize(function () {
    if (stickySidebar.length > 0) {
    stickyHeight = stickySidebar.height();
    }
    });
    
    // Initialize Syntax Highlighting
    hljs.initHighlightingOnLoad();
    
    </script><style type="text/css">
      
      
    input {
    margin-bottom: 5px;
    margin-top: 2px;
    }
    
    .folder {
    display: block;
    height: 22px;
    padding-left: 20px;
    background: transparent url(/common/themes/pre-hdp-3.1/images/folder.gif) 0 0px no-repeat;
    }
    
    </style><link href="/common/themes/pre-hdp-3.1/images/favicon.ico" rel="icon" type="image/x-icon" sizes="16x16"><link href="https://hortonworks.com/wp-content/uploads/2016/04/cropped-favicon521x512-70x70.png" rel="icon" type="image/x-icon" sizes="32x32"><link href="https://hortonworks.com/wp-content/uploads/2016/04/cropped-favicon521x512-300x300.png" rel="icon" type="image/x-icon" sizes="192x192"><link href="https://hortonworks.com/wp-content/uploads/2016/04/cropped-favicon521x512-300x300.png" rel="apple-touch-icon-precomposed" type="image/x-icon" sizes="192x192"><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/styles/default.min.css" rel="stylesheet"><link rel="stylesheet" media="screen, projection" href="/common/themes/pre-hdp-3.1/css/main.css"><link rel="stylesheet" media="screen, projection" href="/common/themes/pre-hdp-3.1/css/docux.css"><style type="text/css"></style><link rel="stylesheet" type="text/css" media="screen, projection" href="/common/themes/pre-hdp-3.1/css/jquery-ui-1.8.2.custom.css"><link rel="stylesheet" type="text/css" media="screen, projection" href="/common/themes/pre-hdp-3.1/css/jquery.treeview.css"><link href="https://cdn.jsdelivr.net/qtip2/3.0.3/jquery.qtip.min.css" rel="stylesheet" type="text/css" media="screen, projection"></head><body class="docs books"><div id="body_container"><div class="breadcrumb_bg"><!-- --></div><div id="navbar"><section class="ps topstrip"><div><!-- --></div></section></div><div id="mainbody"><section class="ps titlebar"><div><div class="breadcrumb"><a href="/">Hortonworks Docs</a> » <a id="index_page" href="../../index.html">Cloudera Runtime 1.0.0</a> » <span class="current_book">Apache Hive Performance Tuning</span></div><div class="book_title">Apache Hive Performance Tuning</div><div class="ebooks"><div class="formats"><span class="desc">Also available as:</span><div class="format"><a onclick="_gaq.push(['_trackEvent', 'Header', 'pdfDownload', 'click', 1]);" title="Download a PDF of this document" class="pdficon" href="../cr-hive_performance_tuning.pdf"><img src="/common/themes/pre-hdp-3.1/images/pdf.png" alt="PDF"></a></div></div></div></div></section><div class="lowerbody"><section class="ps doc-content"><div><div class="aside left"><div><div id="leftnavigation" style="padding-top:3px; background-color:white;"><div class="ui-tabs ui-widget ui-widget-content ui-corner-all"><div id="treeDiv" class="ui-tabs-panel ui-widget-content ui-corner-bottom"><img src="/common/themes/pre-hdp-3.1/images/loading.gif" alt="loading table of contents..." id="tocLoading" style="display:block;"><div id="ulTreeDiv" style="display:none" class="thisisthat"><ul id="tree" class="filetree"><li><a href="../topics/cr-hive_optimizing_data_warehouse.html">Optimizing an Apache Hive data warehouse</a></li><li><a href="../topics/cr-hive_prepare_to_tune_performance.html">Preparations for tuning performance</a></li><li><a href="../topics/cr-hive_setting_up_llap.html">Setting up LLAP</a><ul><li><a href="../topics/cr-hive_enable_yarn_preemption.html">Enable YARN preemption</a></li><li><a href="../topics/cr-hive_enable_interactive_query.html">Enable interactive query</a></li><li><a href="../topics/cr-hive_setup_multiple_hsi.html">Set up multiple HiveServer Interactives for high availability</a></li><li><a href="../topics/cr-hive_configure_llap_queue.html">Configure an llap queue</a></li><li><a href="../topics/cr-hive_llap_add_proxy.html">Add a Hive proxy</a></li><li><a href="../topics/cr-hive_setup_llap.html">Configure other LLAP properties</a></li><li><a href="../topics/cr-hive_hiveserver_heap_sizing.html">Configure the HiveServer heap size</a></li><li><a href="../topics/cr-hive_save_llap_restart.html">Save LLAP settings and restart services</a></li><li><a href="../topics/cr-hive_run_llap_query.html">Run an interactive query</a></li></ul></li><li><a href="../topics/cr-hive_llap_parameters.html">LLAP and HiveServer Interactive properties</a></li><li><a href="../topics/cr-hive_use_hiveserver_interactive.html">Use HiveServer Interactive UI</a></li><li><a href="../topics/cr-hive_connect_clients_to_llap.html">Connect a JDBC client to LLAP</a></li><li><a href="../topics/cr-hive_configuring_yarn_queues.html">Configuring YARN queues for Hive</a><ul><li><a href="../topics/cr-hive_configure_queue_for_batch.html">Configure a queue for batch processing</a></li><li><a href="../topics/cr-hive_configure_custom_llap_queue.html">Configure a custom LLAP queue</a></li></ul></li><li><a href="../topics/cr-hive_setup_multiple_hiveservers.html">Set up multiple HiveServer instances</a></li><li><a href="../topics/cr-hive_warehouse_processing.html">Key components of Hive warehouse processing</a></li><li><a href="../topics/cr-hive_query_result_cache_ms_cache.html">Query result cache and metastore cache</a></li><li class="active"><a href="../topics/cr-hive_tez_engine_properties.html">Tez execution engine properties</a></li><li><a href="../topics/cr-hive_monitoring_performance.html">Monitoring Apache Hive performance</a><ul><li><a href="../topics/cr-hive_monitor_llap_resources.html">Monitoring LLAP resources</a></li></ul></li><li><a href="../topics/cr-hive_maximize_storage_resources_using_orc.html">Maximizing storage resources using ORC</a><ul><li><a href="../topics/cr-hive_advanced_orc_properties.html">Advanced ORC properties</a></li></ul></li><li><a href="../topics/cr-hive_improving_performance_using_partitions.html">Improving performance using partitions</a></li><li><a href="../topics/cr-hive_bucketed_tables.html">Handling bucketed tables</a></li><li><a href="../topics/cr-hive_cost_based_optimizer_overview.html">Improving performance using the cost-based optimizer</a><ul><li><a href="../topics/cr-hive_set_up_cbo_and_stats.html">Set up the cost-based optimizer and statistics</a></li><li><a href="../topics/cr-hive_generate_hive_statistics.html">Generate and view Apache Hive statistics</a></li><li><a href="../topics/cr-hive_statistics_generation_and_viewing_commands.html">Statistics generation and viewing commands</a></li><li><a href="../topics/cr-hive_optimization_and_planning_properties.html">Optimization and planning properties</a></li></ul></li></ul></div></div></div></div></div><div class="formats"><div class="pdf"><!-- --></div></div></div><div class="next-prev-links"><span class="previouslink"><a class="link" href="../topics/cr-hive_query_result_cache_ms_cache.html" title="You need to understand the query result cache to enable or disable it for debugging and to configure the memory allocated for the results. You also need to understand how the metadata cache affects data consistency.">Prev</a></span><span class="nextlink"><a class="link" href="../topics/cr-hive_monitoring_performance.html" title="You can use Grafana, part of Ambari Metrics, to monitor Hive performance. Grafana includes prebuilt dashboards for advanced visualization of cluster metrics. From these dashboards, you can access the performance of the system.">Next</a></span></div><div id="content" aria-labelledby="ariaid-title1">
  <h1 class="title topictitle1" id="ariaid-title1">Tez execution engine properties</h1>
  
  
  <div class="body refbody"><p class="shortdesc">If the performance of low-latency analytical processing (LLAP) degrades, you can adjust
    Tez properties to tune Hive LLAP performance, but generally changing Tez properties is not
    necessary.</p>
    <section class="section"><h2 class="title sectiontitle">Tuning Tez</h2>
      
      <p class="p">In Ambari, select <span class="ph menucascade"><span class="ph uicontrol">Services</span><abbr title="and then"> &gt; </abbr><span class="ph uicontrol">Tez</span><abbr title="and then"> &gt; </abbr><span class="ph uicontrol">Configs</span></span>to change general or advanced properties using
        guidelines in the following table. You can search for a property by entering it in the
        Filter field. </p>
    
    </section>
    <table class="table frame-all" id="hive_tez_engine_properties__table_ifz_y1w_s2b"><caption></caption><colgroup><col><col><col></colgroup><thead class="thead">
          <tr class="row">
            <th class="entry align-left colsep-1 rowsep-1" id="hive_tez_engine_properties__table_ifz_y1w_s2b__entry__1">Property</th>
            <th class="entry align-left colsep-1 rowsep-1" id="hive_tez_engine_properties__table_ifz_y1w_s2b__entry__2">Guideline</th>
            <th class="entry align-left colsep-1 rowsep-1" id="hive_tez_engine_properties__table_ifz_y1w_s2b__entry__3">Default </th>
          </tr>
        </thead><tbody class="tbody">
          <tr class="row">
            <td class="entry align-left colsep-1 rowsep-1" headers="hive_tez_engine_properties__table_ifz_y1w_s2b__entry__1 "><code class="ph codeph">tez.am.resource.memory.mb</code></td>
            <td class="entry align-left colsep-1 rowsep-1" headers="hive_tez_engine_properties__table_ifz_y1w_s2b__entry__2 ">4 GB maximum for most sites. Generally, do not change the value of this property
              unless you change resources on the cluster.</td>
            <td class="entry align-left colsep-1 rowsep-1" headers="hive_tez_engine_properties__table_ifz_y1w_s2b__entry__3 ">Depends on your environment</td>
          </tr>
          <tr class="row">
            <td class="entry align-left colsep-1 rowsep-1" headers="hive_tez_engine_properties__table_ifz_y1w_s2b__entry__1 ">
              <code class="ph codeph">tez.session.am.dag.submit.timeout.secs</code>
            </td>
            <td class="entry align-left colsep-1 rowsep-1" headers="hive_tez_engine_properties__table_ifz_y1w_s2b__entry__2 "><code class="ph codeph">300</code> minimum</td>
            <td class="entry align-left colsep-1 rowsep-1" headers="hive_tez_engine_properties__table_ifz_y1w_s2b__entry__3 "><code class="ph codeph">300</code></td>
          </tr>
          <tr class="row">
            <td class="entry align-left colsep-1 rowsep-1" headers="hive_tez_engine_properties__table_ifz_y1w_s2b__entry__1 ">
              <code class="ph codeph">tez.am.container.idle.release-timeout-min.millis</code>
            </td>
            <td class="entry align-left colsep-1 rowsep-1" headers="hive_tez_engine_properties__table_ifz_y1w_s2b__entry__2 "><code class="ph codeph">20000</code> minimum</td>
            <td class="entry align-left colsep-1 rowsep-1" headers="hive_tez_engine_properties__table_ifz_y1w_s2b__entry__3 "><code class="ph codeph">10000</code></td>
          </tr>
          <tr class="row">
            <td class="entry align-left colsep-1 rowsep-1" headers="hive_tez_engine_properties__table_ifz_y1w_s2b__entry__1 ">
              <code class="ph codeph">tez.am.container.idle.release-timeout-max.millis</code>
            </td>
            <td class="entry align-left colsep-1 rowsep-1" headers="hive_tez_engine_properties__table_ifz_y1w_s2b__entry__2 "><code class="ph codeph">40000</code> minimum</td>
            <td class="entry align-left colsep-1 rowsep-1" headers="hive_tez_engine_properties__table_ifz_y1w_s2b__entry__3 "><code class="ph codeph">20000</code></td>
          </tr>
          <tr class="row">
            <td class="entry align-left colsep-1 rowsep-1" headers="hive_tez_engine_properties__table_ifz_y1w_s2b__entry__1 "><code class="ph codeph">tez.shuffle-vertex-manager.desired-task-input-size</code></td>
            <td class="entry align-left colsep-1 rowsep-1" headers="hive_tez_engine_properties__table_ifz_y1w_s2b__entry__2 ">Increase for large ETL jobs that run too long.</td>
            <td class="entry align-left colsep-1 rowsep-1" headers="hive_tez_engine_properties__table_ifz_y1w_s2b__entry__3 ">No default value set</td>
          </tr>
          <tr class="row">
            <td class="entry align-left colsep-1 rowsep-1" headers="hive_tez_engine_properties__table_ifz_y1w_s2b__entry__1 "><code class="ph codeph">tez.min.partition.factor</code></td>
            <td class="entry align-left colsep-1 rowsep-1" headers="hive_tez_engine_properties__table_ifz_y1w_s2b__entry__2 ">Increase for more reducers. Decrease for fewer reducers. </td>
            <td class="entry align-left colsep-1 rowsep-1" headers="hive_tez_engine_properties__table_ifz_y1w_s2b__entry__3 "><strong class="ph b"><code class="ph codeph">0.25</code></strong></td>
          </tr>
          <tr class="row">
            <td class="entry align-left colsep-1 rowsep-1" headers="hive_tez_engine_properties__table_ifz_y1w_s2b__entry__1 "><code class="ph codeph">tez.max.partition.factor</code></td>
            <td class="entry align-left colsep-1 rowsep-1" headers="hive_tez_engine_properties__table_ifz_y1w_s2b__entry__2 ">Increase for more reducers. Decrease for fewer reducers. </td>
            <td class="entry align-left colsep-1 rowsep-1" headers="hive_tez_engine_properties__table_ifz_y1w_s2b__entry__3 "><code class="ph codeph">2.0</code></td>
          </tr>
          <tr class="row">
            <td class="entry align-left colsep-1 rowsep-1" headers="hive_tez_engine_properties__table_ifz_y1w_s2b__entry__1 "><code class="ph codeph">tez.shuffle-vertex-manager.min-task-parallelism</code></td>
            <td class="entry align-left colsep-1 rowsep-1" headers="hive_tez_engine_properties__table_ifz_y1w_s2b__entry__2 ">Set a value if reducer counts are too low, even if the
                <code class="ph codeph">tez.shuffle-vertex-manager.min-src-fraction </code>property is already
              adjusted.</td>
            <td class="entry align-left colsep-1 rowsep-1" headers="hive_tez_engine_properties__table_ifz_y1w_s2b__entry__3 ">No default value set</td>
          </tr>
          <tr class="row">
            <td class="entry align-left colsep-1 rowsep-1" headers="hive_tez_engine_properties__table_ifz_y1w_s2b__entry__1 "><code class="ph codeph">tez.shuffle-vertex-manager.min-src-fraction</code></td>
            <td class="entry align-left colsep-1 rowsep-1" headers="hive_tez_engine_properties__table_ifz_y1w_s2b__entry__2 ">
              Increase to start reducers later.
              Decrease to start reducers sooner.
            </td>
            <td class="entry align-left colsep-1 rowsep-1" headers="hive_tez_engine_properties__table_ifz_y1w_s2b__entry__3 "><code class="ph codeph">0.2</code></td>
          </tr>
          <tr class="row">
            <td class="entry align-left colsep-1 rowsep-1" headers="hive_tez_engine_properties__table_ifz_y1w_s2b__entry__1 "><code class="ph codeph">tez.shuffle-vertex-manager.max-src-fraction</code></td>
            <td class="entry align-left colsep-1 rowsep-1" headers="hive_tez_engine_properties__table_ifz_y1w_s2b__entry__2 ">
              Increase to start reducers later.
              Decrease to start reducers sooner.
            </td>
            <td class="entry align-left colsep-1 rowsep-1" headers="hive_tez_engine_properties__table_ifz_y1w_s2b__entry__3 "><code class="ph codeph">0.4</code></td>
          </tr>
          <tr class="row">
            <td class="entry align-left colsep-1 rowsep-1" headers="hive_tez_engine_properties__table_ifz_y1w_s2b__entry__1 ">
              <code class="ph codeph">hive.vectorized.execution.enabled</code>
            </td>
            <td class="entry align-left colsep-1 rowsep-1" headers="hive_tez_engine_properties__table_ifz_y1w_s2b__entry__2 "><code class="ph codeph">true</code></td>
            <td class="entry align-left colsep-1 rowsep-1" headers="hive_tez_engine_properties__table_ifz_y1w_s2b__entry__3 "><code class="ph codeph">0.4</code></td>
          </tr>
          <tr class="row">
            <td class="entry align-left colsep-1 rowsep-1" headers="hive_tez_engine_properties__table_ifz_y1w_s2b__entry__1 ">
              <code class="ph codeph">hive.mapjoin.hybridgrace.hashtable</code>
            </td>
            <td class="entry align-left colsep-1 rowsep-1" headers="hive_tez_engine_properties__table_ifz_y1w_s2b__entry__2 "><code class="ph codeph">true</code> for slower but safer processing. <code class="ph codeph">false</code> for
              faster processing. </td>
            <td class="entry align-left colsep-1 rowsep-1" headers="hive_tez_engine_properties__table_ifz_y1w_s2b__entry__3 "><code class="ph codeph">false</code></td>
          </tr>
        </tbody></table>
  </div>
<nav role="navigation" class="related-links"><div class="familylinks"></div></nav></div></div></section></div></div></div><section class="ps footer"><div><div class="copyright">© 2012–2019, Hortonworks, Inc.</div><div class="license">Document licensed under the <a href="https://creativecommons.org/licenses/by-sa/4.0/legalcode">Creative
          Commons Attribution ShareAlike 4.0 License</a>.</div><div class="menulinks"><a href="https://hortonworks.com">Hortonworks.com</a> | 
          <a href="#">Documentation</a> |
          <a href="https://hortonworks.com/support/">Support</a> |
          <a href="https://community.hortonworks.com/">Community</a></div></div></section></body></html>