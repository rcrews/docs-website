<!DOCTYPE html><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="DC.Type" content="task"><meta name="description" content="You use Beeline to launch the Hive shell, Data Analytics Studio (DAS), or another Hive UI. You then query Hive as an end user authorized by Apache Ranger. As administrator, you must first set up the user in the operating system and in Ranger."><meta name="DC.Relation" scheme="URI" content="../topics/hive_run_hive_command.html"><meta name="DC.Relation" scheme="URI" content="http://docs-stage.cloudera.com/HDPDocuments/CR/CR-1.0.0/authorization-ranger/content/resource_policy_create_a_hive_policy.html"><meta name="prodname" content="Cloudera Runtime"><meta name="version" content="1"><meta name="release" content="0"><meta name="modification" content="0"><meta name="brand" content="Cloudera Runtime"><meta name="rights" content="© 2019 Cloudera, Inc."><meta name="DC.Date.Created" content="2019-04-15"><meta name="DC.Date.Modified" content="2019-04-15"><meta name="DC.Format" content="XHTML"><meta name="DC.Identifier" content="hive_start_hive_as_authorized_user"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content=""><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.css"><link rel="stylesheet" href="/common/css/main.css"><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/styles/default.min.css"><title>Start the Hive Shell</title></head><body class="hg"><header class="chead"><div class="breadcrumbs">
<span class="bread-home"><a href="/"><i class="fas fa-home"></i><span class="text-home">Cloudera Docs</span></a></span>
<span class="bread-product"></span>
<span class="bread-version"></span>
<span class="bread-category">Category</span></div>
<div class="search"><i class="search-close fas fa-times"></i><input type="text" placeholder="Search Documentation"><i class="fas fa-search"></i></div><div class="launch-search"><i class="fas fa-search"></i></div><div class="launch-pubnav"><i class="fas fa-bars"></i></div></header><main class="cmain"><div class="cpage"><article class="maincontent"><div class="inner-breadcrumbs">Concepts</div><div id="content" aria-labelledby="ariaid-title1">
    <h1 class="title topictitle1" id="ariaid-title1">Start the Hive Shell</h1>
    
    <div class="body taskbody"><p class="shortdesc">You use Beeline to launch the Hive shell, Data Analytics Studio (DAS), or another Hive UI. You
        then query Hive as an end user authorized by Apache Ranger. As administrator, you must
        first set up the user in the operating system and in Ranger.</p>
       <div class="section prereq p">
           If your cluster is not set up with security, skip these steps.
           <ul class="ul">
                <li class="li">Create a user. For example, add a Linux user using the <code class="ph codeph">adduser</code>
                    operating system command.</li>
                <li class="li">Add the user to the Ranger list of users.</li>
               <li class="li">In Ranger, add the user name to Hive policies that grant full access to
                    Hive.</li>
                <li class="li"> In Ranger, add the user name to the HDFS all-path policy. </li>
                <li class="li">In Cloudera Manager &gt; Hive &gt; Configuration, search for and enable
                        <code class="ph codeph">HiveServer2 Enable Impersonation</code>.<p class="p">This is equivalent to
                        setting <code class="ph codeph">hive.server2.enable.doAs=true</code> in
                    hive-site.xml.</p></li>
            
           </ul>
       </div>
        <ol class="ol steps"><li class="li step stepexpand">
                <span class="ph cmd">In Cloudera Manager Home, click Hosts &gt; All Hosts.</span>
                <div class="itemgroup stepxmp">
                    <figure class="fig fignone">
                        <img class="image" id="hive_start_hive_as_authorized_user__image_ckb_d5q_j3b" src="../images/hive-cm-allhosts.png">
                    </figure>
                </div>
            </li><li class="li step stepexpand">
                <span class="ph cmd">Make a note of the IP address or host name of a node in your cluster, for
                    example myhost-1.com</span>
            </li><li class="li step stepexpand">
                <span class="ph cmd">Use ssh to log into the cluster.</span>
                <div class="itemgroup stepxmp">For example:<pre class="pre codeblock"><code>ssh myhost-1.com</code></pre></div>
            </li><li class="li step stepexpand">
                <span class="ph cmd">Get help about starting the Hive shell.</span>
                <div class="itemgroup stepxmp">On the command line, type <pre class="pre codeblock"><code>hive -h</code></pre></div>
                <div class="itemgroup stepresult">Output
                    is:<pre class="pre codeblock"><code>Connect using simple authentication to HiveServer2 on localhost:10000
beeline -u jdbc:hive2://localhost:10000 username password
                    
Connect using simple authentication to HiveServer2 on hs.local:10000 using -n for username and -p for password
beeline -n username -p password -u jdbc:hive2://hs2.local:10012
                    
Connect using Kerberos authentication with hive/localhost@mydomain.com as HiveServer2 principal
beeline -u "jdbc:hive2://hs2.local:10013/default;principal=hive/localhost@mydomain.com"
                    
Connect using SSL connection to HiveServer2 on localhost at 10000
beeline "jdbc:hive2://localhost:10000/default;ssl=true;sslTrustStore=/usr/local/truststore;trustStorePassword=mytruststorepassword"
                    
Connect using LDAP authentication
beeline -u jdbc:hive2://hs2.local:10013/default &lt;ldap-username&gt; &lt;ldap-password&gt;</code></pre></div>
            </li><li class="li step stepexpand">
                <span class="ph cmd">Start Hive from the command line. using your user name and  Alternatively</span>
                <ul class="ul choices">
                    <li class="li choice">Use your user name if your cluster security is set up.</li>
                    <li class="li choice">Use the user name <code class="ph codeph">hive</code> and no password.</li>
                </ul>
                <div class="itemgroup info">Substitute the
                    name or IP address of your HiveServer host.</div>
                <div class="itemgroup stepxmp"><code class="ph codeph">beeline -u jdbc:hive2://mycloudhost-3.com:10000 -n &lt;your user
                        name&gt; -p</code></div>
                           </li><li class="li step stepexpand">
                <span class="ph cmd">Enter your password at the prompt.</span>
                <div class="itemgroup info">Depending on the security in your cluster, you might omit the -p password
                    option. </div>
            </li><li class="li step stepexpand">
                <span class="ph cmd">Enter a Hive query.</span>
                <div class="itemgroup stepxmp">
                    <pre class="pre codeblock"><code>SHOW DATABASES;</code></pre>
                </div>
            </li><li class="li step stepexpand">
                <span class="ph cmd">Create a table in the default database.</span>
                <div class="itemgroup stepxmp"><pre class="pre codeblock"><code>CREATE TABLE students (name VARCHAR(64), age INT, gpa DECIMAL(3,2));</code></pre></div>
            </li><li class="li step stepexpand">
                <span class="ph cmd">Insert data into the table.</span>
                <div class="itemgroup stepxmp"><pre class="pre codeblock"><code>INSERT INTO TABLE students VALUES ('fred flintstone', 35, 1.28), ('barney rubble', 32, 2.32);</code></pre></div>
            </li></ol>
    </div>
<nav role="navigation" class="related-links"><div class="familylinks"></div><div class="linklist relinfo"><strong>Related information</strong><br><div><a class="link" href="http://docs-stage.cloudera.com/HDPDocuments/CR/CR-1.0.0/authorization-ranger/content/resource_policy_create_a_hive_policy.html" target="_blank">Configure a Resource-based Policy: Hive</a></div></div></nav></div></article><div class="short-prev"><a href="">«</a></div><div class="short-next"><a href="">»</a></div><div class="up"></div><div class="prev"><a href="">« Getting Started with Apache Nifi</a></div><div class="next">Getting Started: <a href="">Terminology Used in This Guide »</a></div></div><aside class="pubmenu"><div class="product-title"><img class="product-logo" src="/common/img/smaller_icons/icon-hdf.png"><span class="product-name">Cloudera Data Platform</span></div><nav class="ctoc"></nav></aside></main><div class="logo"><a href="/"><img src="//www.cloudera.com/apps/settings/wcm/designs/www/clientlibs/css/assets/icons/favicon/apple-touch-icon-152x152.png"></a></div><nav class="product-drawer"><div class="full-logo"><img src="/common/img/cloudera.png"></div><ul class="products"><li class="cat">Data Platforms</li><li><img src="/common/img/mini_icons/icon-ambari.png"><span class="text">Ambari</span></li><li><img src="/common/img/mini_icons/icon-hdp.png"><span class="text">Data Platform</span></li><li class="active"><img src="/common/img/mini_icons/icon-hdf.png"><span class="text">Dataflow</span></li><li><img src="/common/img/mini_icons/icon-smartsense.png"><span class="text">Smartsense</span></li><li><img src="/common/img/mini_icons/icon-cybersecurity.png"><span class="text">Cybersecurity</span></li><li class="cat">Data Services</li><li><img src="/common/img/mini_icons/icon-dataplane.png"><span class="text">DataPlane Core</span></li><li><img src="/common/img/mini_icons/icon-studio.png"><span class="text">Data Analytics Studio</span></li><li><img src="/common/img/mini_icons/icon-datasteward.png"><span class="text">Data Steward Studio</span></li><li class="cat">Cloud Services</li><li><img src="/common/img/mini_icons/icon-cloudbreak.png"><span class="text">Cloudbreak</span></li><li><img src="/common/img/mini_icons/icon-hdcloud.png"><span class="text">HDCloud for AWS</span></li></ul><div class="open-close">»</div></nav><footer></footer><script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script><script src="/common/js/main.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/highlight.min.js" class="test"></script></body></html>