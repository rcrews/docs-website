<!DOCTYPE html><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="DC.Type" content="task"><meta name="description" content="In the cluster, you log into Hive, and run a command from Beeline to make the UDF functional in Hive queries. The UDF persists between HiveServer restarts."><meta name="DC.Relation" scheme="URI" content="../topics/hive_create_udf.html"><meta name="DC.Relation" scheme="URI" content="../topics/hive_create_place_udf_jar.html"><meta name="DC.Relation" scheme="URI" content="../topics/hive_use_udf_in_query.html"><meta name="prodname" content="Data Access"><meta name="version" content="3"><meta name="release" content="1"><meta name="modification" content="0"><meta name="brand" content="Data Platform"><meta name="rights" content="© 2019, 2018, 2017, 2016 Cloudera, Inc."><meta name="DC.Date.Created" content="2018-07-12"><meta name="DC.Date.Modified" content="2018-07-12"><meta name="DC.Format" content="XHTML"><meta name="DC.Identifier" content="hive_register_udf"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content=""><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.css"><link rel="stylesheet" href="/common/css/main.css"><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/styles/default.min.css"><title>Register the UDF</title></head><body class="hg"><header class="chead"><div class="breadcrumbs">
<span class="bread-home"><a href="/"><i class="fas fa-home"></i><span class="text-home">Cloudera Docs</span></a></span>
<span class="bread-product"></span>
<span class="bread-version"></span>
<span class="bread-category">Category</span></div>
<div class="search"><i class="search-close fas fa-times"></i><input type="text" placeholder="Search Documentation"><i class="fas fa-search"></i></div><div class="launch-search"><i class="fas fa-search"></i></div><div class="launch-pubnav"><i class="fas fa-bars"></i></div></header><main class="cmain"><div class="cpage"><article class="maincontent"><div class="inner-breadcrumbs">Concepts</div><div id="content" aria-labelledby="ariaid-title1">
    <h1 class="title topictitle1" id="ariaid-title1">Register the UDF</h1>
    
    
    <div class="body taskbody"><p class="shortdesc">In the cluster, you log into Hive, and run a command from Beeline to make the UDF functional in Hive queries. The UDF persists between HiveServer restarts.</p>
        <div class="section prereq p">You need to set up UDF access, using a Ranger policy for example.</div>
        <section class="section context">In this task, the registration command differs depending on the method you choose
            to configure the cluster for finding the JAR.
            
            If you use another method, you do not need to restart HiveServer. You must recreate the
            symbolic link after any patch or maintenance upgrades that deploy a new version of
            Hive.</section>
        <ol class="ol steps"><li class="li step stepexpand">
                <span class="ph cmd">Using Beeline, login to HiveServer or HiveServer Interactive as a user who has UDF access.</span>
                <ul class="ul choices">
                    <li class="li choice">HiveServer, for example: <pre class="pre codeblock"><code>beeline -u jdbc:hive2://mycluster.com:10000 -n hive -p</code></pre></li>
                    <li class="li choice">HiveServer Interactive, for example: <pre class="pre codeblock"><code>beeline -n hive -u jdbc:hive2://mycluster.com:10500/;transportMode=binary</code></pre></li>
                </ul>
                
            </li><li class="li step stepexpand">
                <span class="ph cmd">At the Hive prompt, select a database for use.</span>
                <div class="itemgroup stepxmp"><code class="ph codeph">USE default;</code></div>
            </li><li class="li step stepexpand">
                <span class="ph cmd">Run the registration command that corresponds to the way you configured the
                    cluster to find the JAR.</span>
                <div class="itemgroup info">In the case of the direct JAR reference configuration method, you include the
                    JAR location in the command. If you use another method, you do not include the
                    JAR location. The classloader can find the JAR.</div>
                <ul class="ul choices">
                    <li class="li choice">Direct JAR reference:
                        <pre class="pre codeblock"><code>CREATE FUNCTION udftypeof AS 'com.mycompany.hiveudf.TypeOf01' USING JAR 'S3:///warehouse/tablespace/managed/TypeOf01-1.0-SNAPSHOT.jar';</code></pre></li>
                    <li class="li choice">Reloadable aux JAR:
                        <pre class="pre codeblock"><code>RELOAD;
CREATE FUNCTION udftypeof AS 'com.mycompany.hiveudf.Typeof01';</code></pre></li>
                    <li class="li choice"></li>
                </ul>
            </li><li class="li step stepexpand">
                <span class="ph cmd">Check that the UDF is registered.</span>
                <div class="itemgroup stepxmp">
                    <pre class="pre codeblock"><code>SHOW FUNCTIONS;</code></pre>
                </div>
                <div class="itemgroup stepresult">You scroll through the output and find
                    <code class="ph codeph">default.typeof</code>.</div>
            </li></ol>
    </div>
<nav role="navigation" class="related-links"><div class="familylinks"><div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../topics/hive_create_udf.html" title="You export user-defined functionality (UDF) to a JAR from a Hadoop- and Hive-compatible Java project and store the JAR on your cluster. Using Hive commands, you register the UDF based on the JAR, and call the UDF from a Hive query.">Create a user-defined function</a></div></div></nav></div></article><div class="short-prev"><a href="">«</a></div><div class="short-next"><a href="">»</a></div><div class="up"></div><div class="prev"><a href="">« Getting Started with Apache Nifi</a></div><div class="next">Getting Started: <a href="">Terminology Used in This Guide »</a></div></div><aside class="pubmenu"><div class="product-title"><img class="product-logo" src="/common/img/smaller_icons/icon-hdf.png"><span class="product-name">Cloudera Data Platform</span></div><nav class="ctoc"></nav></aside></main><div class="logo"><a href="/"><img src="//www.cloudera.com/apps/settings/wcm/designs/www/clientlibs/css/assets/icons/favicon/apple-touch-icon-152x152.png"></a></div><nav class="product-drawer"><div class="full-logo"><img src="/common/img/cloudera.png"></div><ul class="products"><li class="cat">Data Platforms</li><li><img src="/common/img/mini_icons/icon-ambari.png"><span class="text">Ambari</span></li><li><img src="/common/img/mini_icons/icon-hdp.png"><span class="text">Data Platform</span></li><li class="active"><img src="/common/img/mini_icons/icon-hdf.png"><span class="text">Dataflow</span></li><li><img src="/common/img/mini_icons/icon-smartsense.png"><span class="text">Smartsense</span></li><li><img src="/common/img/mini_icons/icon-cybersecurity.png"><span class="text">Cybersecurity</span></li><li class="cat">Data Services</li><li><img src="/common/img/mini_icons/icon-dataplane.png"><span class="text">DataPlane Core</span></li><li><img src="/common/img/mini_icons/icon-studio.png"><span class="text">Data Analytics Studio</span></li><li><img src="/common/img/mini_icons/icon-datasteward.png"><span class="text">Data Steward Studio</span></li><li class="cat">Cloud Services</li><li><img src="/common/img/mini_icons/icon-cloudbreak.png"><span class="text">Cloudbreak</span></li><li><img src="/common/img/mini_icons/icon-hdcloud.png"><span class="text">HDCloud for AWS</span></li></ul><div class="open-close">»</div></nav><footer></footer><script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script><script src="/common/js/main.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/highlight.min.js" class="test"></script></body></html>